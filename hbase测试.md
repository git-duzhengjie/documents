 
## 一、 环境配置
> 1. 一台master，四台regionserver

> 2. 硬件配置：CPU i7，内存16G  

## 二、80亿级数据插入
1.___使用ycsb工具插入___： 
>中途出现卡死现象，最多插入了14亿的数据  

2.___自己编写Java代码使用api进行数据插入___：
>一次性插入数据达到60多亿，后进行多次手动插入工作，数据量级达到80亿

3.___总结___：
>插入过程中，当数据量比较少时，插入qps最高能够达到2万+每秒，而当数据量达到上亿级时，吞吐量稳定在5000左右

4.___遇到的问题___：

> 1. 部分regionserver在运行过程中会因为超出内存限制而自动退出

> 2. 当数据量上亿时，统计行数会很慢，并且经常会出现统计不准

5.___问题排查___：

> 1.  数据量上亿时，统计行数，发现各个节点内存使用已经达到nodemanager可以使用的上限，这也导致最后得出结果很慢，建议增大内存，或者增加服务器数量，我们当前的集群环境还不足以支撑上10亿级的数据量运算

> 2. 统计不准，经过排查是因为各个节点的时间差异超过30s导致，解决方法：修改时间差更大，目前修改的为5分钟。

## 三、80亿级数据读取测试
 > 1.测试工具：ycsb

>2.测试线程：40

>3.测试结果总结：  
1）平均吞吐量：1572(ops/sec)  
1）读取成功：422，平均延时：10毫秒  
2）读取失败：92，平均延时：14毫秒  
3）更新：486，平均延时：18毫秒  
